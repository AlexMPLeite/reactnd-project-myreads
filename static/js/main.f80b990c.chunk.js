(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t){e.exports="data:image/png;base64,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"},21:function(e,t,a){e.exports=a(35)},26:function(e,t,a){},33:function(e,t,a){},35:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),A=a(17),r=a.n(A),c=a(5),l=a(6),i=a(7),s=a(9),u=a(8),f=a(10),h=a(4),m=a(14),b="https://reactnd-books-api.udacity.com",g=localStorage.token;g||(g=localStorage.token=Math.random().toString(36).substr(-8));var d={Accept:"application/json",Authorization:g},k=function(e,t){return fetch("".concat(b,"/books/").concat(e.id),{method:"PUT",headers:Object(m.a)({},d,{"Content-Type":"application/json"}),body:JSON.stringify({shelf:t})}).then(function(e){return e.json()})},v=function(e){return fetch("".concat(b,"/search"),{method:"POST",headers:Object(m.a)({},d,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},B=(a(26),function(e){var t=e.book,a=e.books,n=e.changeShelf;return o.a.createElement("div",{className:"book-shelf-changer"},o.a.createElement("select",{onChange:function(e){n(t,e.target.value)},defaultValue:function(){var e=!0,n=!1,o=void 0;try{for(var A,r=a[Symbol.iterator]();!(e=(A=r.next()).done);e=!0){var c=A.value;if(c.id===t.id)return c.shelf}}catch(l){n=!0,o=l}finally{try{e||null==r.return||r.return()}finally{if(n)throw o}}return"none"}()},o.a.createElement("option",{value:"move",disabled:!0},"Move to..."),o.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),o.a.createElement("option",{value:"wantToRead"},"Want to Read"),o.a.createElement("option",{value:"read"},"Read"),o.a.createElement("option",{value:"none"},"None")))}),E=a(18),w=a.n(E),U=function(e){var t=e.book,a=e.books,n=e.changeShelf;return o.a.createElement("li",null,o.a.createElement("div",{className:"book"},o.a.createElement("div",{className:"book-top"},o.a.createElement("div",{className:"book-cover",style:{backgroundImage:t.imageLinks&&t.imageLinks.thumbnail?"url(".concat(t.imageLinks.thumbnail,")"):"url(".concat(w.a)}}),o.a.createElement(B,{book:t,books:a,changeShelf:n})),o.a.createElement("div",{className:"book-title"},t.title),o.a.createElement("div",{className:"book-authors"},t.authors?[t.authors.length>1?void t.authors.map(function(e,t){return o.a.createElement("div",{key:t},e)}):t.authors]:o.a.createElement("div",null,"N/A"))))},p=function(e){var t=e.books,a=e.shelf,n=e.changeShelf;return o.a.createElement("div",{className:"bookshelf"},o.a.createElement("h2",{className:"bookshelf-title"},a.title),o.a.createElement("div",{className:"bookshelf-books"},o.a.createElement("ol",{className:"books-grid"},t.map(function(e){return o.a.createElement(U,{key:e.id,book:e,books:t,changeShelf:n})}))))},R=function(e){var t=e.bookListTitle,a=e.books,n=e.changeShelf;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"list-books-title"},o.a.createElement("h1",null,t||"My Reads")),o.a.createElement("div",{className:"list-books"},o.a.createElement("div",{className:"list-books-content"},[{value:"currentlyReading",title:"Currently Reading"},{value:"wantToRead",title:"Want to Read"},{value:"read",title:"Read"}].map(function(e,t){var A=a.filter(function(t){return t.shelf===e.value});return o.a.createElement(p,{key:t,books:A,shelf:e,changeShelf:n})}))))},F=function(e){var t=e.query,a=e.returnButton,n=e.getBook,A=o.a.createElement(c.b,{to:"/",className:"close-search"},"Close");return o.a.createElement("div",{className:"search-books-bar"},a?A:"",o.a.createElement("div",{className:"search-books-input-wrapper"},o.a.createElement("input",{type:"text",placeholder:"Search by title or author",value:t,onChange:function(e){n(e.target.value)}})))},D=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),A=0;A<n;A++)o[A]=arguments[A];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={query:"",bookList:[]},a.getBook=function(e){a.setState({query:e}),e?v(e.trim(),20).then(function(e){e.length>0&&a.setState({bookList:e})}):a.setState({bookList:[]})},a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this.props,t=e.books,a=e.changeShelf,n=this.state.bookList;return o.a.createElement("div",{className:"search-books"},o.a.createElement(F,{returnButton:!0,getBook:this.getBook,query:this.state.query}),o.a.createElement("div",{className:"search-books-results"},n.length>0&&o.a.createElement("ol",{className:"books-grid"},n.map(function(e){return o.a.createElement(U,{key:e.id,book:e,books:t,changeShelf:a})}))))}}]),t}(o.a.Component),N=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,o=new Array(n),A=0;A<n;A++)o[A]=arguments[A];return(a=Object(s.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).state={books:[]},a.changeShelf=function(e,t){k(e,t).then(function(){e.shelf=t,a.setState(function(t){return{books:t.books.filter(function(t){return t.id!==e.id}).concat(e)}})})},a}return Object(f.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("".concat(b,"/books"),{headers:d}).then(function(e){return e.json()}).then(function(e){return e.books}).then(function(t){return e.setState({books:t})})}},{key:"render",value:function(){var e=this,t=this.state.books;return o.a.createElement("div",{className:"app"},o.a.createElement(h.a,{path:"/search",render:function(){return o.a.createElement(D,{books:t,changeShelf:e.changeShelf})}}),o.a.createElement(h.a,{exact:!0,path:"/",render:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(R,{books:t,changeShelf:e.changeShelf}),o.a.createElement(c.b,{to:"/search",className:"open-search"},o.a.createElement("button",null,"Add a book")))}}))}}]),t}(o.a.Component);a(33);r.a.render(o.a.createElement(c.a,null,o.a.createElement(N,null)),document.getElementById("root"))}},[[21,2,1]]]);
//# sourceMappingURL=main.f80b990c.chunk.js.map